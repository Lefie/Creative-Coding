let video

let poseNet

let rightEyeX = 0;
let rightEyeY = 0;
let leftEyeX = 0;
let leftEyeY = 0;
let leftWristX = 0;
let leftWristY = 0
let noseX = 0
let noseY = 0

let eye
let nos

// let emojis = ["ðŸ˜€", "ðŸ˜ƒ", "ðŸ˜„", "ðŸ¦›", "ðŸ“ ", 
//"ðŸ”‹", "ðŸ”Œ", "ðŸ’»", "ðŸ’½", "ðŸ’¾", "ðŸ’¿", "ðŸ“€",
// "ðŸ§®", "ðŸŽ¥", "ðŸŽ¬", "ðŸ“º", "ðŸ“·", "ðŸ“¸", "ðŸ“¹", "ðŸ“¼", "ðŸ”", "ðŸ”Ž",
// "ðŸ’¡", "ðŸ”¦", "ðŸ®", "ðŸª”", "ðŸ“”", "ðŸ“•", "ðŸ“–", "ðŸ“—", "ðŸ“˜", "ðŸ“™", "ðŸ“š", 
//"ðŸ““", "ðŸ“’", "ðŸ“ƒ", "ðŸ“œ", "ðŸ“„", "ðŸ“°", "ðŸ“‘", "ðŸ”–", "ðŸ’°", "", "ðŸ’´", "ðŸ’µ", "ðŸ’¶",
// "ðŸ’·", "ðŸ’¸", "ðŸ’³", "ðŸ“¬", "ðŸ“­", "ðŸ“®", "ðŸ“", "ðŸ’¼", "ðŸ“", "ðŸ“‚", "ðŸ“…", "ðŸ“†", "ðŸ“‡", "ðŸ“ˆ", "ðŸ“‰", 
//"ðŸ“Š", "ðŸ“‹", "ðŸ“Œ", "ðŸ“", "ðŸ“Ž", "ðŸ“", "ðŸ“", "ðŸ”’", "ðŸ”“", "ðŸ”", "ðŸ”", "ðŸ”‘", "ðŸ”¨", "ðŸª“", "ðŸ”«", "", "ðŸ¹", 
// "ðŸ”§", "", "ðŸ”©", "ðŸ¦¯", "ðŸ”—", "", "ðŸ§°", "ðŸ§²", "", "ðŸ§ª", "ðŸ§«", "ðŸ§¬", "ðŸ”¬", "ðŸ”­", "ðŸ“¡", "ðŸ’‰", "ðŸ©¸", "ðŸ’Š",
// "ðŸ©¹", "ðŸ©º", "ðŸšª", "", "", "", "ðŸª‘", "ðŸš½", "", "ðŸš¿", "ðŸ›", "", "ðŸª’", "ðŸ§´", "ðŸ§·", "ðŸ§¹", "ðŸ§º", "ðŸ§»", "", "ðŸ§¼", "", "ðŸ§½", "ðŸ§¯", 
//"ðŸ›’", "ðŸš¬", "", "ðŸ—¿", "", "ðŸ§", "ðŸš®", "ðŸš°", "â™¿", "ðŸš¹", "ðŸšº", "ðŸš»", 
//"ðŸš¼", "ðŸš¾", "ðŸ›‚", "ðŸ›ƒ", "ðŸ›„", "ðŸ›…", "ðŸš¸", "â›”", "ðŸš«", "ðŸš³", "ðŸš­", "ðŸš¯", "ðŸš±", "ðŸš·", "ðŸ“µ", "ðŸ”ž", "ðŸ”ƒ", "ðŸ”„", "ðŸ”™", "ðŸ”š", "ðŸ”›", "ðŸ”œ", "ðŸ”", "ðŸ›", "ðŸ•Ž", "ðŸ”¯", "â™ˆ", "â™‰", "â™Š", "â™‹", "â™Œ", "â™", "â™Ž", "â™", "â™", "â™‘", "â™’", "â™“", "â›Ž", "ðŸ”€", "ðŸ”", "ðŸ”‚", "â©", "âª", "ðŸ”¼", "â«", "ðŸ”½", "â¬", "ðŸŽ¦", "ðŸ”…", "ðŸ”†", "ðŸ“¶", "ðŸ“³", "ðŸ“´", "âž•", "âž–", "âž—", "â“", "â”", "â•", "â—", "ðŸ’±", "ðŸ’²", "ðŸ”±", "ðŸ“›", "ðŸ”°", "â­•", "âœ…", "âŒ", "âŽ", "âž°", "âž¿", "ðŸ”Ÿ", "ðŸ” ", "ðŸ”¡", "ðŸ”¢", "ðŸ”£", "ðŸ”¤", "ðŸ†Ž", "ðŸ†‘", "ðŸ†’", "ðŸ†“", "ðŸ†”", "ðŸ†•", "ðŸ†–", "ðŸ†—", "ðŸ†˜", "ðŸ†™", "ðŸ†š", "ðŸˆ", "ðŸˆ¶", "ðŸˆ¯", "ðŸ‰", "ðŸˆ¹", "ðŸˆš", "ðŸˆ²", "ðŸ‰‘", "ðŸˆ¸", "ðŸˆ´", "ðŸˆ³", "ðŸˆº", "ðŸˆµ", "ðŸ”´", "ðŸŸ ", "ðŸŸ¡", "ðŸŸ¢", "ðŸ”µ", "ðŸŸ£", "ðŸŸ¤", "âš«", "âšª", "ðŸŸ¥", "ðŸŸ§", "ðŸŸ¨", "ðŸŸ©", "ðŸŸ¦", "ðŸŸª", "ðŸŸ«", "â¬›", "â¬œ", "â—¾", "â—½", "ðŸ”¶", "ðŸ”·", "ðŸ”¸", "ðŸ”¹", "ðŸ”º", "ðŸ”»", "ðŸ’ ", "ðŸ”˜", "ðŸ”³", "ðŸ”²", "ðŸ", "ðŸš©", "ðŸŽŒ", "ðŸ´"]


//let emojis = ["ðŸ“’", "ðŸ“ƒ", "ðŸ“œ", "ðŸ“„", "ðŸ“°", "ðŸ“‘", "ðŸ”–"]


function setup(){
  createCanvas(1300,800)
  video = createCapture(VIDEO)
  video.hide()
  video.size(1300,800)
  console.log(ml5)

  poseNet = ml5.poseNet(video,modelReady)
  poseNet.on('pose', gotPoses)
 

}

function draw(){
  background(220)
  image(video,0,0)
  

  if(mouseIsPressed){
    eye = "ðŸ˜€"
     nos = "ðŸ’½"
    

  }else{

      textSize(100)
      text(eye,leftEyeX-30,leftEyeY)
      text(eye,rightEyeX-30,rightEyeY)
      text(nos,noseX-20,noseY+30)

  }

}

function gotPoses(poses){
  console.log(poses)

  if(poses.length > 0){
    let newREx = poses[0].pose.rightEye.x
    let newREy = poses[0].pose.rightEye.y
    rightEyeX = lerp(rightEyeX,newREx,0.7)
    rightEyeY = lerp(rightEyeY,newREy,0.7)
    let newLEx = poses[0].pose.leftEye.x
    let newLEy = poses[0].pose.leftEye.y
    leftEyeX = lerp(leftEyeX,newLEx,0.7)
    leftEyeY = lerp(leftEyeY,newLEy,0.7)

    let newNoseX = poses[0].pose.nose.x
    let newNoseY = poses[0].pose.nose.y

    noseX = lerp(noseX,newNoseX,0.7)
    noseY = lerp(noseY,newNoseY,0.7)
  }
 
}

function modelReady(){
  console.log("ready!")
}